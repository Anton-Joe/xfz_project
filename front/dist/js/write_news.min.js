function NEWS(){}NEWS.prototype.run=function(){this.listenUploadFileEvent(),this.listenSubmitNewsEvnet()},NEWS.prototype.listenSubmitNewsEvnet=function(){$("#submit-btn").click(function(t){t.preventDefault();var n=$("input[name='title']").val(),e=$("select[name='category']").val(),a=$("input[name='desc']").val(),o=$("input[name='thumbnail']").val(),i=$("textarea[name='content']").val();xfzajax.post({url:"/cms/write_news/",data:{title:n,category:e,desc:a,thumbnail:o,content:i},success:function(t){200===t.code?xfzalert.alertSuccess("成功添加新闻",function(){window.location.reload()}):console.log(t.message)}})})},NEWS.prototype.listenUploadFileEvent=function(){var e=$("#thumbnail-upload-btn");e.change(function(){var t=e[0].files[0],n=new FormData;n.append("file",t),xfzajax.post({url:"/cms/upload_file/",data:n,processData:!1,contentType:!1,success:function(t){if(200===t.code){var n=t.data.url;$("#thumbnail-from").val(n)}}})})},$(function(){(new NEWS).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid3JpdGVfbmV3cy5taW4uanMiLCJzb3VyY2VzIjpbIndyaXRlX25ld3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gTkVXUygpe1xyXG5cclxufVxyXG5cclxuTkVXUy5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYubGlzdGVuVXBsb2FkRmlsZUV2ZW50KCk7XHJcbiAgICBzZWxmLmxpc3RlblN1Ym1pdE5ld3NFdm5ldCgpO1xyXG59O1xyXG5cclxuTkVXUy5wcm90b3R5cGUubGlzdGVuU3VibWl0TmV3c0V2bmV0ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBzdWJtaXRfYnRuID0gJChcIiNzdWJtaXQtYnRuXCIpO1xyXG4gICAgc3VibWl0X2J0bi5jbGljayhmdW5jdGlvbihldmVudCl7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgdGl0bGUgPSAkKFwiaW5wdXRbbmFtZT0ndGl0bGUnXVwiKS52YWwoKTtcclxuICAgICAgICB2YXIgY2F0ZWdvcnkgPSAkKFwic2VsZWN0W25hbWU9J2NhdGVnb3J5J11cIikudmFsKCk7XHJcbiAgICAgICAgdmFyIGRlc2MgPSAkKFwiaW5wdXRbbmFtZT0nZGVzYyddXCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciB0aHVtYm5haWwgPSAkKFwiaW5wdXRbbmFtZT0ndGh1bWJuYWlsJ11cIikudmFsKCk7XHJcbiAgICAgICAgdmFyIGNvbnRlbnQgPSAkKFwidGV4dGFyZWFbbmFtZT0nY29udGVudCddXCIpLnZhbCgpO1xyXG4gICAgICAgIHhmemFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICd1cmwnOiAnL2Ntcy93cml0ZV9uZXdzLycsXHJcbiAgICAgICAgICAgICdkYXRhJzp7XHJcbiAgICAgICAgICAgICAgICAndGl0bGUnOiB0aXRsZSxcclxuICAgICAgICAgICAgICAgICdjYXRlZ29yeSc6IGNhdGVnb3J5LFxyXG4gICAgICAgICAgICAgICAgJ2Rlc2MnOiBkZXNjLFxyXG4gICAgICAgICAgICAgICAgJ3RodW1ibmFpbCc6IHRodW1ibmFpbCxcclxuICAgICAgICAgICAgICAgICdjb250ZW50JzogY29udGVudFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uKHJlc3VsdCl7XHJcbiAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICB4ZnphbGVydC5hbGVydFN1Y2Nlc3MoXCLmiJDlip/mt7vliqDmlrDpl7tcIixmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdFsnbWVzc2FnZSddKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KVxyXG5cclxuICAgIH0pO1xyXG5cclxufTtcclxuXHJcblxyXG5ORVdTLnByb3RvdHlwZS5saXN0ZW5VcGxvYWRGaWxlRXZlbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIGJ0biA9ICQoXCIjdGh1bWJuYWlsLXVwbG9hZC1idG5cIik7XHJcbiAgICBidG4uY2hhbmdlKGZ1bmN0aW9uKCl7XHJcbiAgICAgICB2YXIgZmlsZSA9IGJ0blswXS5maWxlc1swXTtcclxuICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJyxmaWxlKTtcclxuICAgICAgIHhmemFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgJ3VybCc6ICcvY21zL3VwbG9hZF9maWxlLycsXHJcbiAgICAgICAgICAgJ2RhdGEnOmZvcm1EYXRhLFxyXG4gICAgICAgICAgICdwcm9jZXNzRGF0YSc6IGZhbHNlLFxyXG4gICAgICAgICAgICdjb250ZW50VHlwZSc6IGZhbHNlLFxyXG4gICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24ocmVzdWx0KXtcclxuICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gcmVzdWx0WydkYXRhJ11bJ3VybCddO1xyXG4gICAgICAgICAgICAgICAgICAgdmFyIGlucHV0Rm9ybSA9ICQoJyN0aHVtYm5haWwtZnJvbScpO1xyXG4gICAgICAgICAgICAgICAgICAgaW5wdXRGb3JtLnZhbCh1cmwpO1xyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgfSxcclxuICAgICAgIH0pXHJcblxyXG4gICAgfSk7XHJcbn1cclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG5ld3MgPSBuZXcgTkVXUygpO1xyXG4gICAgbmV3cy5ydW4oKTtcclxufSk7Il0sIm5hbWVzIjpbIk5FV1MiLCJwcm90b3R5cGUiLCJydW4iLCJ0aGlzIiwibGlzdGVuVXBsb2FkRmlsZUV2ZW50IiwibGlzdGVuU3VibWl0TmV3c0V2bmV0IiwiJCIsImNsaWNrIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInRpdGxlIiwidmFsIiwiY2F0ZWdvcnkiLCJkZXNjIiwidGh1bWJuYWlsIiwiY29udGVudCIsInhmemFqYXgiLCJwb3N0IiwidXJsIiwiZGF0YSIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJ4ZnphbGVydCIsImFsZXJ0U3VjY2VzcyIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIiwiY29uc29sZSIsImxvZyIsImJ0biIsImNoYW5nZSIsImZpbGUiLCJmaWxlcyIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJwcm9jZXNzRGF0YSIsImNvbnRlbnRUeXBlIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxRQUlUQSxLQUFLQyxVQUFVQyxJQUFNLFdBQ05DLEtBQ05DLHdCQURNRCxLQUVORSx5QkFHVEwsS0FBS0MsVUFBVUksc0JBQXdCLFdBRWxCQyxFQUFFLGVBQ1JDLE1BQU0sU0FBU0MsR0FDdEJBLEVBQU1DLGlCQUNOLElBQUlDLEVBQVFKLEVBQUUsdUJBQXVCSyxNQUNqQ0MsRUFBV04sRUFBRSwyQkFBMkJLLE1BQ3hDRSxFQUFPUCxFQUFFLHNCQUFzQkssTUFDL0JHLEVBQVlSLEVBQUUsMkJBQTJCSyxNQUN6Q0ksRUFBVVQsRUFBRSw0QkFBNEJLLE1BQzVDSyxRQUFRQyxLQUFLLENBQ1RDLElBQU8sbUJBQ1BDLEtBQU8sQ0FDSFQsTUFBU0EsRUFDVEUsU0FBWUEsRUFDWkMsS0FBUUEsRUFDUkMsVUFBYUEsRUFDYkMsUUFBV0EsR0FFZkssUUFBVyxTQUFTQyxHQUNNLE1BQW5CQSxFQUFhLEtBQ1pDLFNBQVNDLGFBQWEsU0FBUyxXQUMzQkMsT0FBT0MsU0FBU0MsV0FHcEJDLFFBQVFDLElBQUlQLEVBQWdCLGVBVWhEckIsS0FBS0MsVUFBVUcsc0JBQXdCLFdBQ25DLElBQ0l5QixFQUFNdkIsRUFBRSx5QkFDWnVCLEVBQUlDLE9BQU8sV0FDUixJQUFJQyxFQUFPRixFQUFJLEdBQUdHLE1BQU0sR0FDcEJDLEVBQVcsSUFBSUMsU0FDbkJELEVBQVNFLE9BQU8sT0FBT0osR0FDdkJmLFFBQVFDLEtBQUssQ0FDVEMsSUFBTyxvQkFDUEMsS0FBT2MsRUFDUEcsYUFBZSxFQUNmQyxhQUFlLEVBQ2ZqQixRQUFXLFNBQVNDLEdBQ2hCLEdBQXNCLE1BQW5CQSxFQUFhLEtBQVUsQ0FDdEIsSUFBSUgsRUFBTUcsRUFBYSxLQUFPLElBQ2RmLEVBQUUsbUJBQ1JLLElBQUlPLFVBUWpDWixFQUFFLFlBQ2EsSUFBSU4sTUFDVkUifQ==
